
name: Ambient Occlusion
author: tobspr <tobias.springer1@gmail.com>
version: 1.0
description: >
    This plugin adds support for different ambient occlusion techniques.

settings: !!omap

    - technique:
        type: enum
        values: ["SSAO", "HBAO", "DSSDO", "SSVO", "ALCHEMY", "UE4AO"]
        default: SSAO
        shader_runtime: true
        label: Technique
        description: >
            The kernel to use for computing ambient occlusion. The settings below
            depend on the kernel, so choose a kernel first!


    # General settings
    - blur_normal_factor:
        type: float
        range: [0.1, 10.0]
        default: 2.0
        shader_runtime: true
        label: Biliteral Blur Normal Factor
        description: >
            This setting controls the normal influence for the bilateral blur.
            A value of 0.0 means a normal blur, and a higher value will prevent
            blurring over normals.

    - blur_depth_factor:
        type: float
        range: [0.1, 10.0]
        default: 2.0
        shader_runtime: true
        label: Biliteral Blur Depth Factor
        description: >
            This setting controls the depth influence for the bilateral blur.
            If a pixel exceeds the distance to the mid pixel by this amount, it
            will not get weighted.

    - sample_radius:
        type: float
        range: [5, 200]
        default: 50
        shader_runtime: true
        label: Sample Radius
        description: >
            Size of the sampling radius in pixels, higher values might look better,
            but also perform worse due to less caching.
    

    # Settings for SSAO

    - ssao_sample_count:
        display_if: {technique: "SSAO"}
        type: int
        range: [1, 32]
        default: 32
        shader_runtime: true
        label: Sample Count
        description: >
            Amount of samples to use. A higher amount of samples provides a better
            quality but also a decrease in performance.

    - ssao_bias:
        display_if: {technique: "SSAO"}
        type: float
        range: [0.0, 1.0]
        default: 0.1
        shader_runtime: true
        label: Depth Bias
        description: >
            This is a small bias which prevents self-occlusion artifacts on
            curved objects.

    - ssao_max_distance:
        display_if: {technique: "SSAO"}
        type: float
        range: [0.0, 10.0]
        default: 3.0
        shader_runtime: true
        label: Max distance
        description: >
            Prevents halos by specifying the maximum distance between two
            pixels to account for ambient occlusion. The distance should be
            in world space.

    # Settings for HBAO

    - hbao_ray_count:
        display_if: {technique: "HBAO"}
        type: int
        range: [3, 32]
        default: 16
        shader_runtime: true
        label: Ray count
        description: >
            Amount of rays to march from the pixel position. 

    - hbao_ray_steps:
        display_if: {technique: "HBAO"}
        type: int
        range: [1, 16]
        default: 3
        shader_runtime: true
        label: Ray steps
        description: >
            Amount of steps to perform for each ray.

    - hbao_tangent_bias:
        display_if: {technique: "HBAO"}
        type: float
        range: [0.0, 1.0]
        default: 0.1
        shader_runtime: true
        label: Tangent bias
        description: >
            Used to prevent self-occlusion on curved objects, this increases the tangent angle
            by a fixed value.

    - hbao_max_distance:
        display_if: {technique: "HBAO"}
        type: float
        range: [0.01, 20.0]
        default: 7.0
        shader_runtime: true
        label: Max sample distance
        description: >
            Maximum distance of a sample to the pixel center in world space

