#version 130

#include "Includes/Configuration.include"
#include "Includes/PostProcessBlur.include"

uniform sampler2D colorTex;
uniform sampler2D normalTex;

in vec2 texcoord;

void main() {
    ivec2 screenCoord = ivec2(texcoord * textureSize(colorTex, 0) );
    float alpha = edgePreservingAlphaBlur(texcoord, screenCoord, ivec2(0, 1), colorTex, normalTex);
    gl_FragColor = vec4(texture(colorTex, texcoord).rgb, alpha);

    // gl_FragColor = vec4(texture(colorTex, texcoord).a);
}